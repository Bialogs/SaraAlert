<%= react_component("PatientPage", { patient: @patient }) %>

<div class="card mx-4 mt-4">

  <h5 class="card-header">Patient Assessments</h5>

  <div class="m-4">
    <% columns = Assessment.column_names - ["id", "created_at", "updated_at", "patient_id", "symptomatic", "temperature"] %>
    <table class="table table-sm table-striped table-hover table-smaller-font">
      <thead>
        <tr>
          <th>Date</th>
          <% columns.each do |column| -%>
            <th><%= column.titleize %></th>
          <% end -%>
        </tr>
      </thead>
      <tbody>
        <% @patient.assessments.order('created_at').each do |assessment| -%>
        <tr>
            <td><%= assessment.created_at.to_date.to_formatted_s(:long) %></td>
            <% columns.each do |column| -%>
              <td><% if assessment[column] -%><span class="concern">Yes</span><% else -%>No<% end -%></td>
            <% end -%>
          </tr>
        <% end -%>
      </tbody>
    </table>
  </div>

</div>
